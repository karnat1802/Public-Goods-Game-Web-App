
<template name="home">
  <div class="container">
  Please accept the HIT to continue
  </div>
</template>


<template name='experiment'>


<head>
  <title>The Investment Game</title>
</head>

<body>
  
 <div class="container">
  
    <div class="col-md-8 col-sm-8 col-md-offset-2 col-sm-offset-2 text-center">
      <h1><span class="color-blue">The Investment Game</span></h1>
    </div>
    {{>play}}

  </div>
</body>

 </template> 

<template name="play">

   {{#if isSuccessfulEntry}}
    {{>instruction}}
   {{else}}
   <br>
   <br>
   
   <p> Fill in the form below:</p>
  
   {{> quickForm collection="PlayersList" id="insertList" type="insert" }}
   
   {{/if}} 
 <br>
 </template>





<template name="instruction">
  {{#if isSuccessful}}
    {{>question}}
   {{else}}
  <br>
  <br>
  <h3>Welcome to the Investment Game!</h3>

<p>Because the amount of money you can earn depends on your decisions in the game, it is important that you read these instructions with care. At the end of the instructions there is a quiz to ensure that you understand the instructions. You will not be paid for the HIT unless you correctly answer these questions.</p>

<h3>Overview.</h3>

<p>In the Investment Game you will be placed in a network with 23 other Turkers; however, you will only “see” a subset of the total network-those players to whom you are connected directly. These players will be called your “neighbors”. Both the total network and your neighbors will remain fixed throughout the game.

Once the network is populated with Turkers, the game will proceed over the course of 10 “rounds”. During each round you and your neighbors (i.e. the Turkers directly connected to you in the network) will choose how much to contribute to an abstract project. Then this project generates a “payoff” that will then be split equally among you and those who are directly connected to you. Your total payoff for the game is the sum of your payoffs from each round.

During the game we will not report your earnings in terms of dollars and cents but rather in terms of points. At the end of the game the total amount of points you have earned will be converted to dollars at the rate of 1 point  =  2 cents. The amount you earn from the game will be the bonus for this HIT. You will earn the base rate of 50 cents for this HIT by correctly answering the quiz at the end of these instructions.</p>

<h3>  How the game works.</h3>

<p><li>In each round we give you an “endowment” of 10 points.</li>
<li>You decide how many points you want to contribute to the project by typing a number between 0 and 10 in the input field and then clicking the submit button. Please note that by deciding how many points to contribute to the project, you also decide how many points you keep for your self, this is (10 - your contribution) points. Also note that once you have submitted your contribution you cannot go back and change it.</li>
<li>In the first two rounds you have 45 seconds to make you contribution. In the remaining rounds you have 30 seconds. If you do not make a contribution before the end of a round, the system will make one for you and you will not earn any points for that round.</li>
<li>Your income from each round consists of two parts:
the points which you have kept for yourself (“income from points kept”).
“income from the project”, which is 0.4 x the total contribution that you and your neighbors made to the project.Your income in points from a round is therefore: Income from points kept + Income from the project  =  (10 - your contribution to the project) + 0.4*(total contributions you and your neighbors made to the project)</li>
<li>The income of each person in the network (including your neighbors) is calculated in the same way.</li>
<div id="player"></div>

<h3>Four Examples of Payoffs.</h3>
<ul>
<li>Suppose you have four (4) neighbors, and each of you contributes the maximum allowable of 10 points. The sum of the contributions you and your neighbors (those who are directly connected to you) is 50 points, and so each member of the group receives an income from the project of: 0.4*50 = 20 points. Meanwhile your income from points kept  =  0 (because you did not keep any), and so your total income  =  0+20 = 20 points.</li>
<li>Alternatively, suppose that each player contributes two (2) points. Then the total contribution to the project is 10 points, and each member of the group receives an income from the project of: 0.4*10 = 4 points. Because you contributed two of these points then your income from points kept is eight (8), and your total income  =  8+4 = 12 points. </li>
<li>Next, say you contribute two (2) points and all your neighbors contribute ten (10) points, the total contribution is 42 points, and the income that each player receives from the project is 0.4*42 = 16.8 points. Because you contributed two (2) points, your kept income is eight (8), and your total income  =  8+16.8 = 24.8 points.</li>
<li>Finally, say you contribute ten (10) points, and all your neighbors contribute two (2) points, the total contribution is 18 points, and the income that each player receives from the project is 0.4*18 = 7.2 points. Because you contributed ten (10) points, your kept income is zero (0) points and your total income  =  0+7.2 = 7.2 points.</li></ul>

</p>
<p> If You've understood the rules click Next!</p>
  <button type="submit" value="Next" class="but" id="results">Next</button>
    
<br>
{{/if}}
</template>

  
<template name="question">
  {{#if isSuccessfulAnswer}}
   {{> game}}
   {{else}}
  <br>
  <h3>Welcome to the question page</h3>
  <p>To test your understanding, we will ask you a few questions</p>
  <form>
    <p class="question">1. What is the model of the Pairwise Public Good Game?</p>
<ul class="answers">
<input type="radio" name="q1" value="a" id="q1a"><b>  Party 1 offers  Party 2 a sum of money. Party 2 decides to accept or reject this offer. If accepted, the money is split accordingly. Otherwise, neither player receives any of the money.</b><br>
<br>
<input type="radio" name="q1" value="b" id="q1b"><b>  Each party begins each round with 10 monetary units. Parties then how much of these funds to donate to public investment project and how much to keep for self. The total investment is scaled and divided evenly among players at the end of the game.</b><br>
<br>
<input type="radio" name="q1" value="c" id="q1c"><b>  Party 1 offers Party 2 a sum of money. Party 2 must accept this offer.</b><br>

</ul>
<br>
<p class="question">2. How is payoff calculated?</p>
<ul class="answers">
<input type="radio" name="q2" value="a" id="q1a"><label for="q2a">Entirely from funds witheld from public donation</label><br/>
<input type="radio" name="q2" value="b" id="q1b"><label for="q2b">Entirely from funds donated to public project</label><br/>
<input type="radio" name="q2" value="c" id="q1c"><label for="q2c">Both from funds witheld from public donation and from funds donated to public project</label><br/>

</ul>
<br>
<br>
<input type ="submit" id="results" class="quiz">
</form>
<br>
<br>
{{quizResult}}
{{/if}}
</template>

<template name="game">
 {{#if isGameOver}}
 {{>gameover}}
 <div class="col-md-8 col-sm-8 col-md-offset-2 col-sm-offset-2 text-center">
      <h4><span class="color-blue">Your total Payoff is: {{totalSum}}</span></h4>
            <h4><span class="color-blue">Contribution of the last player: {{oppContri}}</span></h4>

    </div>
    <br>
 
 {{else}}
 
  <br>
  <div class="col-md-8 col-sm-8 col-md-offset-2 col-sm-offset-2 text-center">

      <h2>You're playing: <span class="color-blue">The Investment Game</span></h2>
      </div>
     
    <table style="width:100%">
  <tr>
    <td>Each experiement runs for 10 rounds. During a given round all participants are required to enter their contribution for that round. At th end of each round, each player receives the following infromation: (a) their contribution for that round, (b) the contributionss of each of their neighbors for that round, (c) their own cumulative payoff up to that point, (d) the collective score of the entire group, and (e) the highest group score of previous rounds</td>
    
  </tr>
  
</table>

<br>
  <br>
  
  <div class="scoreboard">
   
    
        <table border="0" width="300" id="gameOption">
          <tbody>
            <tr>
              <td width="83">
                <span style="font-size:11pt;color:#404041">
                   Rounds:  {{counter}}/10
                </span>
              </td>
            </tr>
          </tbody>
        </table>
        <!-- <table border="0" width="300" id="gameOption">
          <tbody>
            <tr>
              <td width="83">
                <span style="font-size:11pt;color:#404041">
                   Your Total Payoff: {{totalSum}}
                </span>
              </td>
            </tr>
          </tbody>
        </table> -->
  

        
 <form>
        <table border="0" width="300" id="gameOption">
          <tbody>
            <tr>
              <td width="83">

                <span style="font-size:11pt;color:#404041">
                   Your Contribution:
                   <input type="Number" min="0" max="10" name="EnterContri" id="bar" placeholder="0-10" required>
                </span>
              </td>
            </tr>
          </tbody>
        </table>
         <div id="blackout">
       </div>
         <div id="gameOption1" >
          
                
                   &nbsp;
          </div>      
     
   <div class="scoreboard1">
     <input type="submit" class="make" id="results" value="Play Round!">
    </div> 
    </form>   
  </div>
     <div id="scoreboard2">
      
        
      <table border="0" width="340" id="gameOption" >
          <tbody>
            <tr>
              <td width="83">
                <p>
                <span style="font-size:11pt;color:#404041">
                   Your contribution in this Round:  {{yourcontri}}
                </span>
                </p>
                </td>
            </tr>
          </tbody>
        </table>
        <table border="0" width="340" id="gameOption">
          <tbody>
            <tr>
              <td width="83">
                <span style="font-size:11pt;color:#404041">
                   Your Total Payoff: {{totalSum}}
                </span>
              </td>
            </tr>
          </tbody>
        </table>
        <table border="0" width="340" id="gameOption">
          <tbody>
            <tr>
              <td width="83">
                <p>
                <span style="font-size:11pt;color:#404041">
                   Other Player's contribution in this round: {{oppContri}}
                </span>
              </p>
            </td>
            </tr>
          </tbody>
        </table>
        
        
      
        <div id="blackout1">
       </div>
         <div id="gameOption2" >
          
                
                   &nbsp;
          </div>      
     

   <!-- <div class="scoreboard1">
     <button type="submit" class="make" id="results">Next Round</button>
    </div>  -->
   </div>  

  <div class="scoreboard3" >
    <div class="new" style="background-color:{{color1}}"><h4  style="color:{{bcolor1}}">&nbsp; &nbsp; &nbsp; User {{counter1}}</h4></div>
    <div class="new1"></div>
    <div class="new" style="background-color:{{color2}}"><h4 style="color:{{bcolor2}}">&nbsp; &nbsp; &nbsp; User {{counter2}}</h4></div>
    <div class="new1"></div>
    <div class="new" style="background-color:{{color3}}"><h4 style="color:{{bcolor3}}">&nbsp; &nbsp; &nbsp; User {{counter3}}</h4></div>
    <div class="new1"></div>
    <div class="new" style="background-color:{{color4}}"><h4 style="color:{{bcolor4}}">&nbsp; &nbsp; &nbsp; User {{counter4}}</h4></div>
    <div class="new1"></div>
    <div class="new" style="background-color:{{color5}}"><h4 style="color:{{bcolor5}}">&nbsp; &nbsp; &nbsp; User {{counter5}}</h4></div>
    <div class="new1"></div>
    <div class="new" style="background-color:{{color6}}"><h4 style="color:{{bcolor6}}">&nbsp; &nbsp; &nbsp; User {{counter6}}</h4></div>
    <div class="new1"></div>
    <div class="new" style="background-color:{{color7}}"><h4 style="color:{{bcolor7}}">&nbsp; &nbsp; &nbsp; User {{counter7}}</h4></div>
    <div class="new1"></div>
    <div class="new" style="background-color:{{color8}}"><h4 style="color:{{bcolor8}}">&nbsp; &nbsp; &nbsp; User {{counter8}}</h4></div>
    <div class="new1"></div>
    <div class="new" style="background-color:{{color9}}"><h4 style="color:{{bcolor9}}">&nbsp; &nbsp; &nbsp; User {{counter9}}</h4></div>
    <div class="new1"></div>
    <div class="new" style="background-color:{{color10}}"><h4 style="color:{{bcolor10}}">&nbsp; &nbsp; &nbsp; User {{counter10}}</h4></div>

  </div>

  {{/if}}
  </template>


  <template name="gameover">
    <br>
    <br>
    {{#if isPlayAgain}}
    {{>instruction}}
   {{else}}
    <div class="col-md-8 col-sm-8 col-md-offset-2 col-sm-offset-2 text-center">
      <h1><span class="color-blue">10 Rounds over!!!!</span></h1> 
      <p> Click the button below if you want to play again</p>
      <button type="submit" class="make" id="results">Play Again</button>
    </div>
    {{/if}}
  </template>
 



